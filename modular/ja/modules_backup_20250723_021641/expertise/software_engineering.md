# ソフトウェア工学クイックリファレンス

## 現代のソフトウェア開発手法

### ハイブリッドアジャイル-DevOps
| 要素 | 実装ポイント | 効果 |
|------|------------|------|
| **スプリント** | 1-2週間、デプロイ可能を含むDoD | リードタイム85%短縮 |
| **CI/CD** | 完全自動化、品質ゲート統合 | デプロイ頻度9倍向上 |
| **フィーチャーフラグ** | 段階的リリース、A/Bテスト | 障害リスク90%削減 |
| **観測可能性** | メトリクス・ログ・トレース統合 | MTTR 90%削減 |

### DevSecOps統合
```yaml
シフトレフト実装:
  計画: 脅威モデリング(STRIDE)、セキュリティ要件定義
  開発: SAST統合、依存関係スキャン、セキュアコーディング
  運用: RASP実装、自動インシデント対応
```

## アーキテクチャパターン選択基準

### パターン選択マトリクス
| 規模/要件 | 推奨パターン | 主な考慮点 |
|-----------|------------|-----------|
| **スタートアップ** | モジュラーモノリス → マイクロサービス | 開発速度優先、将来の分割考慮 |
| **エンタープライズ** | マイクロサービス + イベント駆動 | スケール、独立デプロイ、チーム自律性 |
| **エッジ/IoT** | エッジネイティブ + クラウド連携 | レイテンシ<5ms、オフライン対応 |
| **AI/ML製品** | MLOpsパイプライン + API | モデル管理、A/Bテスト、ドリフト監視 |

### クラウドネイティブ原則（拡張版）
```yaml
必須要素:
  基本: 12ファクターアプリ準拠
  追加: 観測可能性ビルトイン、ゼロトラスト、カオスエンジニアリング対応
  
実装優先順位:
  1. コンテナ化とオーケストレーション
  2. サービスメッシュ（通信管理）
  3. 分散トレーシングとメトリクス
  4. 自動スケーリングとレジリエンス
```

## クリーンコード/リファクタリング基本

### コード品質チェックリスト
- [ ] **単一責任原則**: 1クラス/関数 = 1つの役割
- [ ] **DRY原則**: 重複排除、抽象化適用
- [ ] **YAGNI**: 将来の要件を予測しない
- [ ] **可読性**: 意図が明確な命名、適切なコメント
- [ ] **テスタビリティ**: 依存性注入、モック可能な設計

### リファクタリング優先順位
1. **高頻度変更箇所**: 技術的負債の影響大
2. **循環的複雑度 > 10**: 理解困難、バグ温床
3. **重複コード**: DRY違反の解消
4. **長大メソッド**: 20行以上は分割検討

## テスト戦略早見表

### テストピラミッド2025
| レベル | 割合 | 自動化 | 実行時間 |
|--------|------|--------|----------|
| **単体テスト** | 70% | 100% | <1秒 |
| **統合テスト** | 20% | 95% | <30秒 |
| **E2Eテスト** | 10% | 80% | <5分 |

### 品質ゲート基準
```yaml
必須項目:
  カバレッジ: ≥80%（新規コード90%）
  静的解析: 重大度High以上ゼロ
  セキュリティ: OWASP Top10対応
  パフォーマンス: SLA準拠
  
自動化ツール:
  単体テスト: Jest/pytest + モックフレームワーク
  品質分析: SonarQube + カスタムルール
  セキュリティ: Snyk/OWASP ZAP
  性能: k6/JMeter + 継続的負荷テスト
```

## DevOps/CI/CD要点

### パイプライン構成
```yaml
標準フロー:
  1. コミット → 2. ビルド → 3. テスト → 4. 品質ゲート
  → 5. ステージング → 6. 承認 → 7. 本番デプロイ
  
並列実行:
  - 静的解析・セキュリティスキャン・単体テスト
  
フィードバック時間:
  - 開発者通知: 5分以内
  - 品質レポート: 10分以内
```

### インフラas Code
| ツール | 用途 | 選択基準 |
|--------|------|----------|
| **Terraform** | マルチクラウド | 宣言的、状態管理 |
| **CloudFormation** | AWS専用 | ネイティブ統合 |
| **Kubernetes** | コンテナ | 標準化、ポータビリティ |
| **Ansible** | 構成管理 | エージェントレス |

## トラブルシューティング早見表

### 問題カテゴリと初動対応
| 症状 | 確認ポイント | 対処法 |
|------|------------|--------|
| **レスポンス遅延** | APM確認→ボトルネック特定 | キャッシュ、DB最適化、非同期化 |
| **メモリリーク** | ヒープダンプ→GCログ分析 | オブジェクト参照確認、弱参照使用 |
| **断続的エラー** | 分散トレース→タイミング問題 | リトライ、タイムアウト調整 |
| **高CPU使用率** | プロファイラ→ホットスポット | アルゴリズム改善、並列化 |

### 監視ダッシュボード必須項目
```yaml
ゴールデンシグナル:
  - レイテンシ: P50/P95/P99
  - トラフィック: RPS、同時接続数
  - エラー: エラー率、種別
  - サチュレーション: CPU/メモリ/ディスク
  
SLI/SLO設定例:
  可用性: 99.9%（月43分まで）
  レスポンス: 95%が200ms以内
  エラー率: <0.1%
```

## 実装優先順位

### 段階的導入（3-6ヶ月計画）
1. **月1-2**: 基礎確立
   - CI/CD基本パイプライン
   - 自動テスト60%カバレッジ
   - 基本的な監視設定

2. **月3-4**: 品質向上
   - 品質ゲート実装
   - セキュリティスキャン統合
   - テストカバレッジ80%

3. **月5-6**: 最適化
   - パフォーマンス自動テスト
   - カオスエンジニアリング
   - MLOps/AIOps導入

### 成功指標
- **開発効率**: リードタイム<1日、デプロイ頻度>1日
- **品質**: 変更失敗率<5%、MTTR<1時間
- **ビジネス**: 機能デリバリ2倍、開発コスト30%削減

---

## 2025年注目トレンド
- **AI駆動開発**: Copilot活用でボイラープレート90%削減
- **持続可能性**: 炭素効率測定、グリーンコーディング
- **エッジコンピューティング**: 5G/IoT対応、分散AI
- **量子耐性**: 暗号アルゴリズム移行準備